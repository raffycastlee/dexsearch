(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const C=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},M=e=>JSON.parse(localStorage.getItem(e));let p,d=M("dexsearchPoke")||null,r=21,y=0;const _="https://pokeapi.co/api/v2/pokedex/",j="https://pokeapi.co/api/v2/pokemon-species/",P="https://pokeapi.co/api/v2/pokemon/",I=async()=>{const e=M("dexsearchDex");if(e===null)try{p=await(await fetch(_+1)).json(),C("dexsearchDex",p)}catch(t){console.warn(t)}else p=e},x=async(e=null)=>{try{e===null&&(e=Math.floor(Math.random()*p.pokemon_entries.length)),d=await(await fetch(P+e)).json(),C("dexsearchPoke",d)}catch(t){console.warn(t)}},w=()=>{const e=document.querySelector("#main-poke>h2");e.textContent=d.name;const t=document.querySelector("#main-poke>img");t.src=d.sprites.front_default},O=async(e,t=1)=>{const n=[];for(let c=t;c<=e;c++)try{let o=await fetch(P+c);o=await o.json();const s={id:o.id,name:o.name,types:o.types,sprites:o.sprites};n.push(s)}catch(o){console.warn(o)}return n},A=async(e=r)=>{e=Math.round(e/3)*3,await I();const t=await O(e),n=document.querySelector("div#content-container");n.innerHTML="";const c=document.createElement("ul");c.id="pokedex-list",n.append(c),R(t),document.body.scrollTop=y,document.documentElement.scrollTop=y,document.querySelector("button#search").classList.remove("hidden"),document.querySelector("button#close").classList.add("hidden"),document.querySelector("button#show-less").classList.remove("hidden"),document.querySelector("button#show-more").classList.remove("hidden"),document.querySelector("#show-less").addEventListener("click",G),document.querySelector("#show-more").addEventListener("click",Y),document.querySelector("ul").addEventListener("click",K)},H=()=>{const e=document.querySelector("div#modal");e.innerHTML=`
    <div class="watermark">
      <p>please don't spam submit it will break</p>
      <p>please don't spam submit it will break</p>
      <p>please don't spam submit it will break</p>
      <p>please don't spam submit it will break</p>
      <p>please don't spam submit it will break</p>
    </div>
    <div id="form-container">
      <form>
        <h2 id="form-label">Search Pokemon</h2>
        <label for="keyword">ID or Name:</label>
        <input type="text" name="keyword" id="keyword" required>
        <button type="submit">Submit</button>
      </form>
    </div>
    <div class="watermark">
      <p>please don't spam submit it will break</p>
      <p>please don't spam submit it will break</p>
      <p>please don't spam submit it will break</p>
      <p>please don't spam submit it will break</p>
      <p>please don't spam submit it will break</p>
    </div>
  `,document.querySelector("form").addEventListener("submit",F),y=window.scrollY,document.querySelector("#modal").classList.remove("hidden"),document.querySelector("button#search").classList.add("hidden"),document.querySelector("button#close").classList.remove("hidden")},T=()=>{const e=document.querySelector("form>p");e!==null&&document.querySelector("form").removeChild(e)},F=async e=>{e.preventDefault(),T();let t=e.target.keyword.value;if(isNaN(t))try{let n=await fetch(j+t);if(n.status===404)throw new Error("ERROR: Invalid ID/Name");n=await n.json(),await x(n.id),N(e),w(),B()}catch(n){console.warn(n),z(e)}else t=Number(t),await x(t),N(e),w(),B()},z=e=>{e.target.reset();const t=document.createElement("p");t.style.color="red",t.textContent="ERROR: Invalid ID/Name",document.querySelector("form").append(t)},N=e=>{document.body.scrollTop=y,document.documentElement.scrollTop=y,document.querySelector("#modal").classList.add("hidden"),document.querySelector("button#search").classList.remove("hidden"),document.querySelector("button#close").classList.add("hidden"),e.target.reset()},G=async()=>{const e=r;r=Math.round(r/2/3)*3,r=Math.max(r,3),r===3&&document.querySelector("button#show-less").classList.add("hidden"),r<p.pokemon_entries.length&&document.querySelector("button#show-more").classList.remove("hidden"),J(e)},J=e=>{const t=document.querySelector("ul"),n=[...t.childNodes].splice(0,e-r);t.replaceChildren(...n)},Y=async()=>{const e=document.querySelector("div#modal");e.innerHTML=`
    <h1 style="color: white;">LOADING</h1>
  `;const t=document.querySelector(".floating");t.style.zIndex=9998,document.querySelector("#modal").classList.remove("hidden");const n=r;r*2<p.pokemon_entries.length?r=Math.round(r*2/3)*3:r=p.pokemon_entries.length,r>3&&document.querySelector("button#show-less").classList.remove("hidden"),r===p.pokemon_entries.length&&document.querySelector("button#show-more").classList.add("hidden");const c=Date.now();console.log(c),await $(n),t.style.zIndex=9999,document.querySelector("#modal").classList.add("hidden")},R=e=>{const t=document.querySelector("#pokedex-list");for(const n of e){const c=document.createElement("li");c.id=n.id,c.classList.add("poke-li");const o=document.createElement("div");o.classList.add("poke-li-div"),c.append(o);const s=document.createElement("h3");s.textContent=`${n.id}. ${n.name}`,o.append(s);const a=document.createElement("img");a.src=n.sprites.front_default,o.append(a);const u=document.createElement("div");u.classList.add("types"),o.append(u);for(const f of n.types){const h=document.createElement("span");h.textContent=f.type.name,u.append(h)}t.append(c)}},$=async e=>{const t=await O(r,e+1);R(t)},K=async e=>{if(!(e.target.matches("ul")||e.target.matches("button"))){e=e.target.closest("li");try{const t=document.querySelector("div#modal");t.innerHTML=`
      <h1 style="color: white;">LOADING</h1>
    `,document.querySelector("#modal").classList.remove("hidden");const n=Date.now();for(console.log(n),d=await(await fetch(P+e.id)).json();n+250>Date.now(););document.querySelector("#modal").classList.add("hidden"),w(),y=window.scrollY,B()}catch(t){console.warn(t)}}},U=()=>{document.querySelector("#modal").classList.add("hidden"),T(),A()},B=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0,document.querySelector("button#search").classList.add("hidden"),document.querySelector("button#close").classList.remove("hidden"),document.querySelector("button#show-less").classList.add("hidden"),document.querySelector("button#show-more").classList.add("hidden");const o=document.querySelector("div#content-container");o.innerHTML="";const s=document.createElement("div");s.id="details-container";const a=document.createElement("p");a.classList.add("bold"),a.textContent="types",s.append(a);const u=document.createElement("div");u.classList.add("details-types-div");for(const i of d.types){const m=document.createElement("span");m.classList.add("details-types"),m.textContent=i.type.name,u.append(m)}s.append(u);const f=document.createElement("p"),h=document.createElement("span");h.id="details-height",h.textContent=d.height*10+"cm",f.append(h);const b=document.createElement("span");b.id="details-weight",b.textContent=d.weight/10+"kg",f.append(b),s.append(f);const v=document.createElement("p");v.classList.add("bold"),v.textContent="abilities",s.append(v);const S=document.createElement("ul");S.id="abilities";for(const[i,m]of d.abilities.entries()){const l=document.createElement("li");l.id=i+1,l.textContent=m.ability.name.replaceAll(/-/g," "),S.append(l)}s.append(S);const L=document.createElement("p");L.classList.add("bold"),L.textContent="moves",s.append(L);const k=document.createElement("ul");k.id="moves";for(const[i,m]of d.moves.entries()){const l=document.createElement("li");l.id=i+1,l.textContent=m.move.name.replaceAll(/-/g," "),k.append(l)}s.append(k);const g=document.createElement("p");g.classList.add("bold"),g.textContent="sprites",s.append(g);const q=document.createElement("ul");q.id="sprites";for(const[i,m]of Object.entries(d.sprites)){if(m===null||i==="other"||i==="versions")continue;const l=document.createElement("div");l.classList.add("sprite-div"),l.id=i;const E=document.createElement("h3");E.classList.add("sprite-text"),E.textContent=i.replaceAll(/_/g," "),l.append(E);const D=document.createElement("img");D.src=m,l.append(D),q.append(l)}s.append(q),o.append(s)},Q=async()=>{document.querySelector("button#search").addEventListener("click",H),document.querySelector("button#close").addEventListener("click",U),await I(),await x(),w(),await A()};Q();
